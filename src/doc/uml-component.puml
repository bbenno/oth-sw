@startuml chat
package "Presentation" {
    component "Webapplikation" as app
}

package "Business" {
    component "UserService" as US
    component "ChatService" as CS
    component "MessageService" as MS

    () IFUserService as IFUS
    () IFChatService as IFCS
    () IFMessageService as IFMS

    US -up- IFUS
    CS -up- IFCS
    MS -up- IFMS
}

package "Persistence" {
    node "UserRepository" as UR
    node "ChatRepository" as CR
    node "MessageRepository" as MR

    () IFUserRepository as IFUR
    () IFChatRepository as IFCR
    () IFMessageRepository as IFMR

    UR -up- IFUR
    CR -up- IFCR
    MR -up- IFMR
}

package "Database" {
    database "MySQL" as db
}

UR .down.> db
CR .down.> db
MR .down.> db

app .down.( IFUS
app .down.( IFCS
app .down.( IFMS

US .down.( IFUR
CS .down.( IFCR
MS .down.( IFMR
@enduml
